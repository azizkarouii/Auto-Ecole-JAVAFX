<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="tn.spring.autoecole.controllers.AdminController"
            prefHeight="800.0" prefWidth="1200.0">

    <!-- Top Bar -->
    <top>
        <VBox style="-fx-background-color: #2c3e50;">
            <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 15;">
                <Label text="ðŸš—" style="-fx-font-size: 24px; -fx-text-fill: white;"/>
                <Label fx:id="welcomeLabel" text="Bienvenue, Administrateur"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="DÃ©connexion" onAction="#handleLogout"
                        style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-weight: bold; -fx-cursor: hand;"/>
            </HBox>
        </VBox>
    </top>

    <!-- Main Content -->
    <center>
        <TabPane fx:id="mainTabPane" tabClosingPolicy="UNAVAILABLE">

            <!-- Tab Dashboard -->
            <Tab text="ðŸ“Š Dashboard">
                <ScrollPane fitToWidth="true" style="-fx-background: white;">
                    <VBox spacing="20" style="-fx-padding: 20;">
                        <!-- Titre -->
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label text="Tableau de Bord" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button text="ðŸ”„ Actualiser" onAction="#handleRefreshStats"
                                    style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                        </HBox>

                        <!-- Stats Principales -->
                        <Label text="Statistiques GÃ©nÃ©rales" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="20"/>
                                <ColumnConstraints percentWidth="20"/>
                                <ColumnConstraints percentWidth="20"/>
                                <ColumnConstraints percentWidth="20"/>
                                <ColumnConstraints percentWidth="20"/>
                            </columnConstraints>

                            <!-- Card Apprenants -->
                            <VBox style="-fx-background-color: #3498db; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="0">
                                <Label text="ðŸ‘¨â€ðŸŽ“" style="-fx-font-size: 32px;"/>
                                <Label fx:id="totalApprenantsLabel" text="0"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="Apprenants" style="-fx-font-size: 14px; -fx-text-fill: white;"/>
                            </VBox>

                            <!-- Card Moniteurs -->
                            <VBox style="-fx-background-color: #2ecc71; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="1">
                                <Label text="ðŸ‘¨â€ðŸ«" style="-fx-font-size: 32px;"/>
                                <Label fx:id="totalMoniteursLabel" text="0"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="Moniteurs" style="-fx-font-size: 14px; -fx-text-fill: white;"/>
                            </VBox>

                            <!-- Card VÃ©hicules -->
                            <VBox style="-fx-background-color: #9b59b6; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="2">
                                <Label text="ðŸš—" style="-fx-font-size: 32px;"/>
                                <Label fx:id="totalVehiculesLabel" text="0"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="VÃ©hicules" style="-fx-font-size: 14px; -fx-text-fill: white;"/>
                            </VBox>

                            <!-- Card SÃ©ances -->
                            <VBox style="-fx-background-color: #e67e22; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="3">
                                <Label text="ðŸ“…" style="-fx-font-size: 32px;"/>
                                <Label fx:id="totalSeancesLabel" text="0"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="SÃ©ances" style="-fx-font-size: 14px; -fx-text-fill: white;"/>
                            </VBox>

                            <!-- Card Examens -->
                            <VBox style="-fx-background-color: #e74c3c; -fx-background-radius: 10; -fx-padding: 20;"
                                  GridPane.columnIndex="4">
                                <Label text="ðŸ“" style="-fx-font-size: 32px;"/>
                                <Label fx:id="totalExamensLabel" text="0"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="Examens" style="-fx-font-size: 14px; -fx-text-fill: white;"/>
                            </VBox>
                        </GridPane>

                        <Separator/>

                        <!-- Taux de RÃ©ussite -->
                        <VBox spacing="10" style="-fx-background-color: #ecf0f1; -fx-background-radius: 10; -fx-padding: 20;">
                            <Label text="ðŸ“ˆ Taux de RÃ©ussite aux Examens"
                                   style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                            <HBox alignment="CENTER" spacing="20">
                                <Label text="Taux de RÃ©ussite Global:" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
                                <Label fx:id="tauxReussiteLabel" text="0%"
                                       style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #27ae60;"/>
                            </HBox>
                        </VBox>

                        <Separator/>

                        <!-- RÃ©partition par Niveau -->
                        <Label text="ðŸ“š RÃ©partition des Apprenants par Niveau"
                               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                        <GridPane hgap="15" vgap="15">
                            <columnConstraints>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                                <ColumnConstraints percentWidth="25"/>
                            </columnConstraints>

                            <!-- Code -->
                            <VBox style="-fx-background-color: #f39c12; -fx-background-radius: 10; -fx-padding: 15;"
                                  GridPane.columnIndex="0">
                                <Label text="ðŸ“š" style="-fx-font-size: 28px;"/>
                                <Label fx:id="apprenantsNiveauCodeLabel" text="0"
                                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="Code de la route" style="-fx-font-size: 13px; -fx-text-fill: white;"/>
                            </VBox>

                            <!-- Conduite -->
                            <VBox style="-fx-background-color: #16a085; -fx-background-radius: 10; -fx-padding: 15;"
                                  GridPane.columnIndex="1">
                                <Label text="ðŸš—" style="-fx-font-size: 28px;"/>
                                <Label fx:id="apprenantsNiveauConduiteLabel" text="0"
                                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="Conduite" style="-fx-font-size: 13px; -fx-text-fill: white;"/>
                            </VBox>

                            <!-- Parc -->
                            <VBox style="-fx-background-color: #8e44ad; -fx-background-radius: 10; -fx-padding: 15;"
                                  GridPane.columnIndex="2">
                                <Label text="ðŸ…¿ï¸" style="-fx-font-size: 28px;"/>
                                <Label fx:id="apprenantsNiveauParcLabel" text="0"
                                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="Parc" style="-fx-font-size: 13px; -fx-text-fill: white;"/>
                            </VBox>

                            <!-- Permis Obtenus -->
                            <VBox style="-fx-background-color: #27ae60; -fx-background-radius: 10; -fx-padding: 15;"
                                  GridPane.columnIndex="3">
                                <Label text="âœ…" style="-fx-font-size: 28px;"/>
                                <Label fx:id="apprenantsPermisObtenusLabel" text="0"
                                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: white;"/>
                                <Label text="Permis Obtenus" style="-fx-font-size: 13px; -fx-text-fill: white;"/>
                            </VBox>
                        </GridPane>
                    </VBox>
                </ScrollPane>
            </Tab>

            <!-- Tab Apprenants -->
            <Tab text="ðŸ‘¨â€ðŸŽ“ Apprenants">
                <VBox spacing="10" style="-fx-padding: 15;">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <TextField fx:id="searchApprenantField" promptText="Rechercher..." prefWidth="200"/>
                        <ComboBox fx:id="filterTypePermisCombo" prefWidth="150"/>
                        <ComboBox fx:id="filterNiveauCombo" prefWidth="150"/>
                        <Button text="Filtrer" onAction="#loadApprenants"
                                style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="âž• Ajouter" onAction="#handleAddApprenant"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold;"/>
                        <Button text="âœï¸ Modifier" onAction="#handleEditApprenant"
                                style="-fx-background-color: #f39c12; -fx-text-fill: white;"/>
                        <Button text="ðŸ—‘ï¸ Supprimer" onAction="#handleDeleteApprenant"
                                style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
                    </HBox>

                    <TableView fx:id="apprenantsTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="apprenantIdCol" text="ID" prefWidth="50"/>
                            <TableColumn fx:id="apprenantNomCol" text="Nom" prefWidth="120"/>
                            <TableColumn fx:id="apprenantPrenomCol" text="PrÃ©nom" prefWidth="120"/>
                            <TableColumn fx:id="apprenantCinCol" text="CIN" prefWidth="100"/>
                            <TableColumn fx:id="apprenantEmailCol" text="Email" prefWidth="200"/>
                            <TableColumn fx:id="apprenantTelCol" text="TÃ©lÃ©phone" prefWidth="100"/>
                            <TableColumn fx:id="apprenantTypePermisCol" text="Type Permis" prefWidth="120"/>
                            <TableColumn fx:id="apprenantNiveauCol" text="Niveau" prefWidth="150"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Tab Moniteurs -->
            <Tab text="ðŸ‘¨â€ðŸ« Moniteurs">
                <VBox spacing="10" style="-fx-padding: 15;">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <TextField fx:id="searchMoniteurField" promptText="Rechercher..." prefWidth="200"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="âž• Ajouter" onAction="#handleAddMoniteur"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold;"/>
                        <Button text="âœï¸ Modifier" onAction="#handleEditMoniteur"
                                style="-fx-background-color: #f39c12; -fx-text-fill: white;"/>
                        <Button text="ðŸ—‘ï¸ Supprimer" onAction="#handleDeleteMoniteur"
                                style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
                    </HBox>

                    <TableView fx:id="moniteursTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="moniteurIdCol" text="ID" prefWidth="50"/>
                            <TableColumn fx:id="moniteurNomCol" text="Nom" prefWidth="150"/>
                            <TableColumn fx:id="moniteurPrenomCol" text="PrÃ©nom" prefWidth="150"/>
                            <TableColumn fx:id="moniteurCinCol" text="CIN" prefWidth="120"/>
                            <TableColumn fx:id="moniteurEmailCol" text="Email" prefWidth="250"/>
                            <TableColumn fx:id="moniteurTelCol" text="TÃ©lÃ©phone" prefWidth="120"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Tab VÃ©hicules -->
            <Tab text="ðŸš— VÃ©hicules">
                <VBox spacing="10" style="-fx-padding: 15;">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <TextField fx:id="searchVehiculeField" promptText="Rechercher..." prefWidth="200"/>
                        <ComboBox fx:id="filterVehiculeTypeCombo" prefWidth="150"/>
                        <Button text="Filtrer" onAction="#loadVehicules"
                                style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="âž• Ajouter" onAction="#handleAddVehicule"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold;"/>
                        <Button text="âœï¸ Modifier" onAction="#handleEditVehicule"
                                style="-fx-background-color: #f39c12; -fx-text-fill: white;"/>
                        <Button text="ðŸ—‘ï¸ Supprimer" onAction="#handleDeleteVehicule"
                                style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
                    </HBox>

                    <TableView fx:id="vehiculesTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="vehiculeIdCol" text="ID" prefWidth="50"/>
                            <TableColumn fx:id="vehiculeMatriculeCol" text="Matricule" prefWidth="150"/>
                            <TableColumn fx:id="vehiculeMarqueCol" text="Marque" prefWidth="150"/>
                            <TableColumn fx:id="vehiculeModeleCol" text="ModÃ¨le" prefWidth="150"/>
                            <TableColumn fx:id="vehiculeTypeCol" text="Type" prefWidth="150"/>
                            <TableColumn fx:id="vehiculeDispoCol" text="Disponible" prefWidth="100"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Tab SÃ©ances -->
            <Tab text="ðŸ“… SÃ©ances">
                <VBox spacing="10" style="-fx-padding: 15;">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Button text="ðŸ”„ Actualiser" onAction="#loadSeances"
                                style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="âž• Ajouter SÃ©ance" onAction="#handleAddSeance"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold;"/>
                        <Button text="âœï¸ Modifier" onAction="#handleEditSeance"
                                style="-fx-background-color: #f39c12; -fx-text-fill: white;"/>
                        <Button text="ðŸ—‘ï¸ Supprimer" onAction="#handleDeleteSeance"
                                style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
                    </HBox>

                    <TableView fx:id="seancesTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="seanceIdCol" text="ID" prefWidth="50"/>
                            <TableColumn fx:id="seanceTypeCol" text="Type" prefWidth="100"/>
                            <TableColumn fx:id="seanceDateCol" text="Date" prefWidth="120"/>
                            <TableColumn fx:id="seanceHeureCol" text="Heure" prefWidth="100"/>
                            <TableColumn fx:id="seanceApprenantCol" text="Apprenant" prefWidth="200"/>
                            <TableColumn fx:id="seanceMoniteurCol" text="Moniteur" prefWidth="200"/>
                            <TableColumn fx:id="seanceVehiculeCol" text="VÃ©hicule" prefWidth="200"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Tab Examens -->
            <Tab text="ðŸ“ Examens">
                <VBox spacing="10" style="-fx-padding: 15;">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <ComboBox fx:id="filterResultatCombo" prefWidth="150"/>
                        <Button text="Filtrer" onAction="#loadExamens"
                                style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                        <Button text="ðŸ”„ Actualiser" onAction="#loadExamens"
                                style="-fx-background-color: #16a085; -fx-text-fill: white;"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="âž• Programmer Examen" onAction="#handleAddExamen"
                                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-weight: bold;"/>
                        <Button text="ðŸ“Š Saisir RÃ©sultat" onAction="#handleSaisirResultat"
                                style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-font-weight: bold;"/>
                        <Button text="âœï¸ Modifier" onAction="#handleEditExamen"
                                style="-fx-background-color: #f39c12; -fx-text-fill: white;"/>
                        <Button text="ðŸ—‘ï¸ Supprimer" onAction="#handleDeleteExamen"
                                style="-fx-background-color: #e74c3c; -fx-text-fill: white;"/>
                    </HBox>

                    <TableView fx:id="examensTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="examenIdCol" text="ID" prefWidth="50"/>
                            <TableColumn fx:id="examenTypeCol" text="Type" prefWidth="150"/>
                            <TableColumn fx:id="examenDateCol" text="Date" prefWidth="120"/>
                            <TableColumn fx:id="examenHeureCol" text="Heure" prefWidth="100"/>
                            <TableColumn fx:id="examenApprenantCol" text="Apprenant" prefWidth="250"/>
                            <TableColumn fx:id="examenResultatCol" text="RÃ©sultat" prefWidth="200"/>
                        </columns>
                    </TableView>
                </VBox>
            </Tab>

            <!-- Tab Finances -->
            <Tab text="ðŸ’° Finances">
                <ScrollPane fitToWidth="true" style="-fx-background: white;">
                    <VBox spacing="20" style="-fx-padding: 20;">
                        <!-- Titre -->
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <Label text="Gestion FinanciÃ¨re" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Button text="ðŸ”„ Actualiser" onAction="#handleRefreshStats"
                                    style="-fx-background-color: #3498db; -fx-text-fill: white;"/>
                        </HBox>

                        <!-- Revenus Totaux -->
                        <VBox spacing="15" style="-fx-background-color: #ecf0f1; -fx-background-radius: 10; -fx-padding: 20;">
                            <Label text="ðŸ’µ Revenus Totaux"
                                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
                            <Separator/>

                            <GridPane hgap="30" vgap="15">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="50"/>
                                    <ColumnConstraints percentWidth="50"/>
                                </columnConstraints>

                                <!-- Colonne 1 - Revenus Auto-Ã‰cole -->
                                <VBox spacing="10" GridPane.columnIndex="0">
                                    <Label text="ðŸ« REVENUS AUTO-Ã‰COLE"
                                           style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #27ae60; -fx-underline: true;"/>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Label text="ðŸ“š SÃ©ances Code:" style="-fx-font-size: 14px; -fx-min-width: 180px;"/>
                                        <Label fx:id="revenuCodeLabel" text="0.00 DT"
                                               style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #f39c12;"/>
                                    </HBox>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Label text="ðŸš— SÃ©ances Conduite:" style="-fx-font-size: 14px; -fx-min-width: 180px;"/>
                                        <Label fx:id="revenuConduiteLabel" text="0.00 DT"
                                               style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #16a085;"/>
                                    </HBox>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Label text="ðŸ…¿ï¸ SÃ©ances Parc:" style="-fx-font-size: 14px; -fx-min-width: 180px;"/>
                                        <Label fx:id="revenuParcLabel" text="0.00 DT"
                                               style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #9b59b6;"/>
                                    </HBox>
                                </VBox>

                                <!-- Colonne 2 - Revenus Service des Mines -->
                                <VBox spacing="10" GridPane.columnIndex="1">
                                    <Label text="ðŸ›ï¸ REVENUS SERVICE DES MINES"
                                           style="-fx-font-size: 15px; -fx-font-weight: bold; -fx-text-fill: #e67e22; -fx-underline: true;"/>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Label text="ðŸ“‹ Frais d'inscription:" style="-fx-font-size: 14px; -fx-min-width: 180px;"/>
                                        <Label fx:id="revenuInscriptionsLabel" text="0.00 DT"
                                               style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #3498db;"/>
                                    </HBox>

                                    <HBox spacing="10" alignment="CENTER_LEFT">
                                        <Label text="ðŸ“ Frais d'examens:" style="-fx-font-size: 14px; -fx-min-width: 180px;"/>
                                        <Label fx:id="revenuExamensLabel" text="0.00 DT"
                                               style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #e74c3c;"/>
                                    </HBox>
                                </VBox>
                            </GridPane>

                            <Separator/>

                            <!-- Totaux sÃ©parÃ©s -->
                            <GridPane hgap="30" vgap="10">
                                <columnConstraints>
                                    <ColumnConstraints percentWidth="50"/>
                                    <ColumnConstraints percentWidth="50"/>
                                </columnConstraints>

                                <!-- Total Auto-Ã‰cole -->
                                <HBox spacing="15" alignment="CENTER" GridPane.columnIndex="0"
                                      style="-fx-background-color: #d5f4e6; -fx-padding: 12; -fx-background-radius: 8;">
                                    <Label text="ðŸ« TOTAL AUTO-Ã‰COLE:"
                                           style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #27ae60;"/>
                                    <Label fx:id="revenuAutoEcoleLabel" text="0.00 DT"
                                           style="-fx-font-weight: bold; -fx-font-size: 22px; -fx-text-fill: #27ae60;"/>
                                </HBox>

                                <!-- Total Service des Mines -->
                                <HBox spacing="15" alignment="CENTER" GridPane.columnIndex="1"
                                      style="-fx-background-color: #ffeaa7; -fx-padding: 12; -fx-background-radius: 8;">
                                    <Label text="ðŸ›ï¸ TOTAL MINES:"
                                           style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #e67e22;"/>
                                    <Label fx:id="revenuServiceMinesLabel" text="0.00 DT"
                                           style="-fx-font-weight: bold; -fx-font-size: 22px; -fx-text-fill: #e67e22;"/>
                                </HBox>
                            </GridPane>

                            <Separator/>

                            <!-- Total GÃ©nÃ©ral -->
                            <HBox spacing="20" alignment="CENTER"
                                  style="-fx-background-color: white; -fx-padding: 15; -fx-background-radius: 8;">
                                <Label text="ðŸ’° REVENU TOTAL GÃ‰NÃ‰RAL:"
                                       style="-fx-font-weight: bold; -fx-font-size: 18px; -fx-text-fill: #2c3e50;"/>
                                <Label fx:id="revenuTotalLabel" text="0.00 DT"
                                       style="-fx-font-weight: bold; -fx-font-size: 28px; -fx-text-fill: #27ae60;"/>
                            </HBox>
                        </VBox>

                        <Separator/>

                        <!-- DÃ©tails par Apprenant -->
                        <VBox spacing="15">
                            <Label text="ðŸ‘¤ DÃ©tails par Apprenant"
                                   style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>

                            <HBox spacing="10" alignment="CENTER_LEFT">
                                <Label text="SÃ©lectionner un apprenant:" style="-fx-font-weight: bold;"/>
                                <ComboBox fx:id="apprenantFinanceCombo" prefWidth="300" promptText="Choisir un apprenant"/>
                                <Button text="ðŸ“Š Afficher DÃ©tails" onAction="#handleAfficherDetailsApprenant"
                                        style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-weight: bold;"/>
                            </HBox>

                            <!-- Zone d'affichage des dÃ©tails -->
                            <VBox fx:id="detailsApprenantBox" spacing="10"
                                  style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 10;
                                         -fx-border-color: #bdc3c7; -fx-border-width: 1; -fx-border-radius: 10;">
                                <Label text="SÃ©lectionnez un apprenant pour voir ses dÃ©tails financiers"
                                       style="-fx-text-fill: #7f8c8d; -fx-font-style: italic;"/>
                            </VBox>
                        </VBox>
                    </VBox>
                </ScrollPane>
            </Tab>

        </TabPane>
    </center>

</BorderPane>